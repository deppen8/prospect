
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Assemblage &#8212; Prospect User Guide</title>
    
  <link rel="stylesheet" href="../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Coverage" href="Coverage.html" />
    <link rel="prev" title="Area" href="Area.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/logo_v1.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Prospect User Guide</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Home
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Get started
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../start/install.html">
   Installing
   <code class="docutils literal notranslate">
    <span class="pre">
     prospect
    </span>
   </code>
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Building blocks
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="overview.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="parameters.html">
   Parameters
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="objects.html">
   Common objects
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Area.html">
   Area
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Assemblage
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Coverage.html">
   Coverage
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Team.html">
   Team
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Running a Survey
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../survey/Survey.html">
   Survey
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/blocks/Assemblage.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        
        <a class="issues-button"
            href="https://github.com/deppen8/prospect-guide/issues/new?title=Issue%20on%20page%20%2Fblocks/Assemblage.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/deppen8/prospect-guide/edit/main/blocks/Assemblage.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/deppen8/prospect-guide/main?urlpath=lab/tree/blocks/Assemblage.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creating-a-layer">
   Creating a
   <code class="docutils literal notranslate">
    <span class="pre">
     Layer
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#from-a-list-of-feature-objects">
     From a list of
     <code class="docutils literal notranslate">
      <span class="pre">
       Feature
      </span>
     </code>
     objects
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#from-a-shapefile">
     From a shapefile
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#from-pseudorandom-points">
     From pseudorandom points
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#from-point-processes">
     From point processes
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#poisson">
       Poisson
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#thomas">
       Thomas
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#matern">
       Matern
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#time-penalty-parameter">
   <code class="docutils literal notranslate">
    <span class="pre">
     time_penalty
    </span>
   </code>
   parameter
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ideal-obs-rate-parameter">
   <code class="docutils literal notranslate">
    <span class="pre">
     ideal_obs_rate
    </span>
   </code>
   parameter
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creating-an-assemblage-from-layer-objects">
   Creating an
   <code class="docutils literal notranslate">
    <span class="pre">
     Assemblage
    </span>
   </code>
   from
   <code class="docutils literal notranslate">
    <span class="pre">
     Layer
    </span>
   </code>
   objects
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="assemblage">
<h1>Assemblage<a class="headerlink" href="#assemblage" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">Assemblage</span></code> represents all of the things that can potentially be discovered within an <code class="docutils literal notranslate"><span class="pre">Area</span></code>. These are most commonly going to be artifacts represented as points, but can theoretically be other shapes as well. The <code class="docutils literal notranslate"><span class="pre">Assemblage</span></code> must lie within the <code class="docutils literal notranslate"><span class="pre">Area</span></code>, so an <code class="docutils literal notranslate"><span class="pre">Area</span></code> object is a required parameter of the <code class="docutils literal notranslate"><span class="pre">Assemblage</span></code> creation methods.</p>
<p>An <code class="docutils literal notranslate"><span class="pre">Assemblage</span></code> is made from a list of <code class="docutils literal notranslate"><span class="pre">Layer</span></code> objects, so most of the heavy lifting is done by creating each <code class="docutils literal notranslate"><span class="pre">Layer</span></code>. We will walk through <code class="docutils literal notranslate"><span class="pre">Layer</span></code> creation methods first, then we will put them together in an <code class="docutils literal notranslate"><span class="pre">Assemblage</span></code>.</p>
<div class="section" id="creating-a-layer">
<h2>Creating a <code class="docutils literal notranslate"><span class="pre">Layer</span></code><a class="headerlink" href="#creating-a-layer" title="Permalink to this headline">¶</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">Layer</span></code> is intended to be a group of artifacts or other features that share <code class="docutils literal notranslate"><span class="pre">time_penalty</span></code> and <code class="docutils literal notranslate"><span class="pre">ideal_obs_rate</span></code> parameters. More practically, you can think of a <code class="docutils literal notranslate"><span class="pre">Layer</span></code> standing in for a type of artifact. For example, you might expect those parameters to be the same for any Iron Age ceramics, so you can put all of the Iron Age ceramics into the same <code class="docutils literal notranslate"><span class="pre">Layer</span></code>.</p>
<p>Each element of the <code class="docutils literal notranslate"><span class="pre">Layer</span></code> (i.e., each individual artifact) is a <code class="docutils literal notranslate"><span class="pre">Feature</span></code> object. Most of the time it will make more sense to use <code class="docutils literal notranslate"><span class="pre">Layer</span></code> methods to create many <code class="docutils literal notranslate"><span class="pre">Feature</span></code> objects at the same time, but it is possible to create the <code class="docutils literal notranslate"><span class="pre">Feature</span></code> objects one-by-one and assembling them into a <code class="docutils literal notranslate"><span class="pre">Layer</span></code>.</p>
<div class="section" id="from-a-list-of-feature-objects">
<h3>From a list of <code class="docutils literal notranslate"><span class="pre">Feature</span></code> objects<a class="headerlink" href="#from-a-list-of-feature-objects" title="Permalink to this headline">¶</a></h3>
<p>To create a <code class="docutils literal notranslate"><span class="pre">Feature</span></code>, we need a <code class="docutils literal notranslate"><span class="pre">shapely</span></code> object, so let’s create a few simple points.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">shapely.geometry</span> <span class="kn">import</span> <span class="n">Point</span>
<span class="kn">import</span> <span class="nn">prospect</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">beta</span>

<span class="n">pt1</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">ft1</span> <span class="o">=</span> <span class="n">prospect</span><span class="o">.</span><span class="n">Feature</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;feature1&quot;</span><span class="p">,</span> 
    <span class="n">layer_name</span><span class="o">=</span><span class="s2">&quot;demo_layer&quot;</span><span class="p">,</span> 
    <span class="n">shape</span><span class="o">=</span><span class="n">pt1</span><span class="p">,</span>
    <span class="n">time_penalty</span><span class="o">=</span><span class="n">prospect</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">truncnorm</span><span class="p">(</span><span class="n">mean</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sd</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mi">50</span><span class="p">),</span>
    <span class="n">ideal_obs_rate</span><span class="o">=</span><span class="n">beta</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">pt2</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">ft2</span> <span class="o">=</span> <span class="n">prospect</span><span class="o">.</span><span class="n">Feature</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;feature2&quot;</span><span class="p">,</span>
    <span class="n">layer_name</span><span class="o">=</span><span class="s2">&quot;demo_layer&quot;</span><span class="p">,</span> 
    <span class="n">shape</span><span class="o">=</span><span class="n">pt2</span><span class="p">,</span>
    <span class="n">time_penalty</span><span class="o">=</span><span class="n">prospect</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">truncnorm</span><span class="p">(</span><span class="n">mean</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sd</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mi">50</span><span class="p">),</span>
    <span class="n">ideal_obs_rate</span><span class="o">=</span><span class="n">beta</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">pt3</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">)</span>
<span class="n">ft3</span> <span class="o">=</span> <span class="n">prospect</span><span class="o">.</span><span class="n">Feature</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;feature3&quot;</span><span class="p">,</span>
    <span class="n">layer_name</span><span class="o">=</span><span class="s2">&quot;demo_layer&quot;</span><span class="p">,</span>
    <span class="n">shape</span><span class="o">=</span><span class="n">pt3</span><span class="p">,</span>
    <span class="n">time_penalty</span><span class="o">=</span><span class="n">prospect</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">truncnorm</span><span class="p">(</span><span class="n">mean</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sd</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mi">50</span><span class="p">),</span>
    <span class="n">ideal_obs_rate</span><span class="o">=</span><span class="n">beta</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Notice that we kept the <code class="docutils literal notranslate"><span class="pre">time_penalty</span></code> and <code class="docutils literal notranslate"><span class="pre">ideal_obs_rate</span></code> parameters constant. It is not <em>required</em> that all members of a <code class="docutils literal notranslate"><span class="pre">Layer</span></code> have identical values for these parameters, but it is probably a good idea. If you need to use different values, it is probably best to use one <code class="docutils literal notranslate"><span class="pre">Layer</span></code> per unique set of parameters.</p>
</div>
<p>Now let’s put our <code class="docutils literal notranslate"><span class="pre">Feature</span></code> objects into a <code class="docutils literal notranslate"><span class="pre">Layer</span></code>. The <code class="docutils literal notranslate"><span class="pre">Layer</span></code> constructor will check and ensure that the <code class="docutils literal notranslate"><span class="pre">Feature</span></code> objects are located within the <code class="docutils literal notranslate"><span class="pre">Area</span></code> boundaries, so you must pass an <code class="docutils literal notranslate"><span class="pre">Area</span></code> when creating a <code class="docutils literal notranslate"><span class="pre">Layer</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently this spatial rule is only enforced if all of the elements in <code class="docutils literal notranslate"><span class="pre">input_features</span></code> are <code class="docutils literal notranslate"><span class="pre">Point</span></code> objects. It is my hope to include <code class="docutils literal notranslate"><span class="pre">LineString</span></code> and <code class="docutils literal notranslate"><span class="pre">Polygon</span></code> <code class="docutils literal notranslate"><span class="pre">Feature</span></code> objects in this “clipping” operation in the future.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">demo_area</span> <span class="o">=</span> <span class="n">prospect</span><span class="o">.</span><span class="n">Area</span><span class="o">.</span><span class="n">from_area_value</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;demo_area&#39;</span><span class="p">,</span> 
    <span class="n">value</span><span class="o">=</span><span class="mi">10000</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">layer_from_list</span> <span class="o">=</span> <span class="n">prospect</span><span class="o">.</span><span class="n">Layer</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;demo_layer&#39;</span><span class="p">,</span> 
    <span class="n">area</span><span class="o">=</span><span class="n">demo_area</span><span class="p">,</span>
    <span class="n">assemblage_name</span><span class="o">=</span><span class="s1">&#39;demo_assemblage&#39;</span><span class="p">,</span>
    <span class="n">input_features</span><span class="o">=</span><span class="p">[</span><span class="n">ft1</span><span class="p">,</span> <span class="n">ft2</span><span class="p">,</span> <span class="n">ft3</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">layer_from_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>prospect.layer.Layer
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">layer_from_list</span><span class="o">.</span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>feature_name</th>
      <th>layer_name</th>
      <th>shape</th>
      <th>time_penalty</th>
      <th>ideal_obs_rate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>feature1</td>
      <td>demo_layer</td>
      <td>POINT (10.00000 10.00000)</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>feature2</td>
      <td>demo_layer</td>
      <td>POINT (50.00000 50.00000)</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>feature3</td>
      <td>demo_layer</td>
      <td>POINT (90.00000 90.00000)</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">layer_from_list</span><span class="o">.</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>geopandas.geodataframe.GeoDataFrame
</pre></div>
</div>
</div>
</div>
<p>We can use the plotting functionality from <code class="docutils literal notranslate"><span class="pre">geopandas</span></code> to visualize the <code class="docutils literal notranslate"><span class="pre">Layer</span></code> members within the <code class="docutils literal notranslate"><span class="pre">Area</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">layer_from_list</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">demo_area</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(),</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;orange&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:&gt;
</pre></div>
</div>
<img alt="../_images/Assemblage_14_1.png" src="../_images/Assemblage_14_1.png" />
</div>
</div>
</div>
<div class="section" id="from-a-shapefile">
<h3>From a shapefile<a class="headerlink" href="#from-a-shapefile" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">from_shapefile()</span></code> method is useful for reading in existing datasets as <code class="docutils literal notranslate"><span class="pre">Layer</span></code> objects. These could be data from a completed field survey or maybe data designed to test some custom question.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">area_from_shp</span> <span class="o">=</span> <span class="n">prospect</span><span class="o">.</span><span class="n">Area</span><span class="o">.</span><span class="n">from_shapefile</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;area_shp&quot;</span><span class="p">,</span> 
    <span class="n">path</span><span class="o">=</span><span class="s2">&quot;./data/demo_area.shp&quot;</span>
<span class="p">)</span>

<span class="n">layer_from_shp</span> <span class="o">=</span> <span class="n">prospect</span><span class="o">.</span><span class="n">Layer</span><span class="o">.</span><span class="n">from_shapefile</span><span class="p">(</span>
    <span class="n">path</span><span class="o">=</span><span class="s2">&quot;./data/demo_layer.shp&quot;</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;demo_layer_from_shp&quot;</span><span class="p">,</span>
    <span class="n">area</span><span class="o">=</span><span class="n">area_from_shp</span><span class="p">,</span>
    <span class="n">assemblage_name</span><span class="o">=</span><span class="s2">&quot;demo_assemblage&quot;</span><span class="p">,</span>
    <span class="n">time_penalty</span><span class="o">=</span><span class="n">prospect</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">truncnorm</span><span class="p">(</span><span class="n">mean</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sd</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mi">50</span><span class="p">),</span>
    <span class="n">ideal_obs_rate</span><span class="o">=</span><span class="n">beta</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">layer_from_shp</span><span class="o">.</span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>feature_name</th>
      <th>layer_name</th>
      <th>shape</th>
      <th>time_penalty</th>
      <th>ideal_obs_rate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>demo_layer_from_shp_0</td>
      <td>demo_layer_from_shp</td>
      <td>POINT (533579.123 4388848.757)</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>demo_layer_from_shp_1</td>
      <td>demo_layer_from_shp</td>
      <td>POINT (533638.844 4388883.594)</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>demo_layer_from_shp_2</td>
      <td>demo_layer_from_shp</td>
      <td>POINT (533621.702 4388842.121)</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>demo_layer_from_shp_3</td>
      <td>demo_layer_from_shp</td>
      <td>POINT (533701.882 4388861.475)</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>demo_layer_from_shp_4</td>
      <td>demo_layer_from_shp</td>
      <td>POINT (533669.810 4388763.047)</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>demo_layer_from_shp_5</td>
      <td>demo_layer_from_shp</td>
      <td>POINT (533575.252 4388787.930)</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>demo_layer_from_shp_6</td>
      <td>demo_layer_from_shp</td>
      <td>POINT (533771.556 4388874.194)</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>demo_layer_from_shp_7</td>
      <td>demo_layer_from_shp</td>
      <td>POINT (533717.918 4388839.910)</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Let’s plot the resulting <code class="docutils literal notranslate"><span class="pre">Layer</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">layer_from_shp</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">area_from_shp</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(),</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;orange&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:&gt;
</pre></div>
</div>
<img alt="../_images/Assemblage_20_1.png" src="../_images/Assemblage_20_1.png" />
</div>
</div>
</div>
<div class="section" id="from-pseudorandom-points">
<h3>From pseudorandom points<a class="headerlink" href="#from-pseudorandom-points" title="Permalink to this headline">¶</a></h3>
<p>To very quickly create a <code class="docutils literal notranslate"><span class="pre">Layer</span></code> with a specific number of points, you can use the <code class="docutils literal notranslate"><span class="pre">from_pseudorandom_points()</span></code> method. This method uses <code class="docutils literal notranslate"><span class="pre">numpy</span></code> to draw <span class="math notranslate nohighlight">\(n\)</span> random values for coordinates for <code class="docutils literal notranslate"><span class="pre">Point</span></code> objects.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">area_from_shp</span> <span class="o">=</span> <span class="n">prospect</span><span class="o">.</span><span class="n">Area</span><span class="o">.</span><span class="n">from_shapefile</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;area_shp&quot;</span><span class="p">,</span> 
    <span class="n">path</span><span class="o">=</span><span class="s2">&quot;./data/demo_area.shp&quot;</span>
<span class="p">)</span>

<span class="n">layer_from_pseudo_rand</span> <span class="o">=</span> <span class="n">prospect</span><span class="o">.</span><span class="n">Layer</span><span class="o">.</span><span class="n">from_pseudorandom_points</span><span class="p">(</span>
    <span class="n">n</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;demo_layer_from_pseu_rand&quot;</span><span class="p">,</span>
    <span class="n">area</span><span class="o">=</span><span class="n">area_from_shp</span><span class="p">,</span>
    <span class="n">assemblage_name</span><span class="o">=</span><span class="s2">&quot;demo_assemblage&quot;</span><span class="p">,</span>
    <span class="n">time_penalty</span><span class="o">=</span><span class="n">prospect</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">truncnorm</span><span class="p">(</span><span class="n">mean</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sd</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mi">50</span><span class="p">),</span>
    <span class="n">ideal_obs_rate</span><span class="o">=</span><span class="n">beta</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">layer_from_pseudo_rand</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(100, 5)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">layer_from_pseudo_rand</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">area_from_shp</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:&gt;
</pre></div>
</div>
<img alt="../_images/Assemblage_25_1.png" src="../_images/Assemblage_25_1.png" />
</div>
</div>
</div>
<div class="section" id="from-point-processes">
<h3>From point processes<a class="headerlink" href="#from-point-processes" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">prospect</span></code> offers methods for creating <code class="docutils literal notranslate"><span class="pre">Layer</span></code> objects using existing point pattern types: Poisson, Thomas, and Matern.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>For all of these point pattern types, the generated points are <em>not</em> guaranteed to fall within the given <code class="docutils literal notranslate"><span class="pre">Area</span></code>, only within its bounding box. The generated <code class="docutils literal notranslate"><span class="pre">GeoDataFrame</span></code> of points, <code class="docutils literal notranslate"><span class="pre">df</span></code>, is clipped by the actual <code class="docutils literal notranslate"><span class="pre">Area</span></code> bounds <em>after</em> they are generated, which can result in fewer points than expected. If you need to examine what has been clipped, all original points will remain in the <code class="docutils literal notranslate"><span class="pre">input_features</span></code> attribute.</p>
</div>
<div class="section" id="poisson">
<h4>Poisson<a class="headerlink" href="#poisson" title="Permalink to this headline">¶</a></h4>
<p>A Poisson point process is usually said to be more “purely” random than most random number generators (like the one used in <code class="docutils literal notranslate"><span class="pre">from_pseudorandom_points()</span></code>)</p>
<p>The rate (usually called “lambda”) of the Poisson point process represents the number of events per unit of area per unit of time across some theoretical space of which our <code class="docutils literal notranslate"><span class="pre">Area</span></code> is some subset. In this case, we only have one unit of time, so the rate really represents a theoretical number of events per unit area. For example, if the specified rate is 5, in any 1x1 square, the number of points observed will be drawn randomly from a Poisson distribution with a shape parameter of 5. In practical terms, this means that over many 1x1 areas (or many observations of the same area), the mean number of points observed in that area will approximate 5.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">area_from_shp</span> <span class="o">=</span> <span class="n">prospect</span><span class="o">.</span><span class="n">Area</span><span class="o">.</span><span class="n">from_shapefile</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;area_shp&quot;</span><span class="p">,</span> 
    <span class="n">path</span><span class="o">=</span><span class="s2">&quot;./data/demo_area.shp&quot;</span>
<span class="p">)</span>

<span class="n">layer_from_poisson</span> <span class="o">=</span> <span class="n">prospect</span><span class="o">.</span><span class="n">Layer</span><span class="o">.</span><span class="n">from_poisson_points</span><span class="p">(</span>
    <span class="n">rate</span><span class="o">=</span><span class="mf">0.005</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;demo_layer_from_poisson&quot;</span><span class="p">,</span> 
    <span class="n">area</span><span class="o">=</span><span class="n">area_from_shp</span><span class="p">,</span> 
    <span class="n">assemblage_name</span><span class="o">=</span><span class="s2">&quot;demo_assemblage&quot;</span><span class="p">,</span>
    <span class="n">time_penalty</span><span class="o">=</span><span class="n">prospect</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">truncnorm</span><span class="p">(</span><span class="n">mean</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sd</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mi">50</span><span class="p">),</span>
    <span class="n">ideal_obs_rate</span><span class="o">=</span><span class="n">beta</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">layer_from_poisson</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(153, 5)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">layer_from_poisson</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">area_from_shp</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:&gt;
</pre></div>
</div>
<img alt="../_images/Assemblage_33_1.png" src="../_images/Assemblage_33_1.png" />
</div>
</div>
</div>
<div class="section" id="thomas">
<h4>Thomas<a class="headerlink" href="#thomas" title="Permalink to this headline">¶</a></h4>
<p>A Thomas point process is a two-stage Poisson process. It has a Poisson number of clusters, each with a Poisson number of points distributed with an isotropic Gaussian distribution of a given variance. The points that are used to define the parent clusters are <em>not</em> represented in the output.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>This is an excellent way to generate artifact clusters.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">area_from_shp</span> <span class="o">=</span> <span class="n">prospect</span><span class="o">.</span><span class="n">Area</span><span class="o">.</span><span class="n">from_shapefile</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;area_shp&quot;</span><span class="p">,</span> 
    <span class="n">path</span><span class="o">=</span><span class="s2">&quot;./data/demo_area.shp&quot;</span>
<span class="p">)</span>

<span class="n">layer_from_thomas</span> <span class="o">=</span> <span class="n">prospect</span><span class="o">.</span><span class="n">Layer</span><span class="o">.</span><span class="n">from_thomas_points</span><span class="p">(</span>
    <span class="n">parent_rate</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span>
    <span class="n">child_rate</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">gauss_var</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;demo_layer_from_thomas&quot;</span><span class="p">,</span> 
    <span class="n">area</span><span class="o">=</span><span class="n">area_from_shp</span><span class="p">,</span> 
    <span class="n">assemblage_name</span><span class="o">=</span><span class="s2">&quot;demo_assemblage&quot;</span><span class="p">,</span>
    <span class="n">time_penalty</span><span class="o">=</span><span class="n">prospect</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">truncnorm</span><span class="p">(</span><span class="n">mean</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sd</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mi">50</span><span class="p">),</span>
    <span class="n">ideal_obs_rate</span><span class="o">=</span><span class="n">beta</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">layer_from_thomas</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(243, 5)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">layer_from_thomas</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">area_from_shp</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:&gt;
</pre></div>
</div>
<img alt="../_images/Assemblage_38_1.png" src="../_images/Assemblage_38_1.png" />
</div>
</div>
</div>
<div class="section" id="matern">
<h4>Matern<a class="headerlink" href="#matern" title="Permalink to this headline">¶</a></h4>
<p>The Matern process is similar to the Thomas point process. It has a Poisson number of parent clusters like the Thomas process, but in this case, each parent cluster has a Poisson number of points distributed uniformly across a disk of a given radius.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>This is an excellent method for generating circular clusters of artifacts.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">area_from_shp</span> <span class="o">=</span> <span class="n">prospect</span><span class="o">.</span><span class="n">Area</span><span class="o">.</span><span class="n">from_shapefile</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;area_shp&quot;</span><span class="p">,</span> 
    <span class="n">path</span><span class="o">=</span><span class="s2">&quot;./data/demo_area.shp&quot;</span>
<span class="p">)</span>

<span class="n">layer_from_matern</span> <span class="o">=</span> <span class="n">prospect</span><span class="o">.</span><span class="n">Layer</span><span class="o">.</span><span class="n">from_matern_points</span><span class="p">(</span>
    <span class="n">parent_rate</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span>
    <span class="n">child_rate</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">radius</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;demo_layer_from_matern&quot;</span><span class="p">,</span> 
    <span class="n">area</span><span class="o">=</span><span class="n">area_from_shp</span><span class="p">,</span> 
    <span class="n">assemblage_name</span><span class="o">=</span><span class="s2">&quot;demo_assemblage&quot;</span><span class="p">,</span>
    <span class="n">time_penalty</span><span class="o">=</span><span class="n">prospect</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">truncnorm</span><span class="p">(</span><span class="n">mean</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sd</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mi">50</span><span class="p">),</span>
    <span class="n">ideal_obs_rate</span><span class="o">=</span><span class="n">beta</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">layer_from_matern</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(295, 5)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">layer_from_matern</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">area_from_shp</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:&gt;
</pre></div>
</div>
<img alt="../_images/Assemblage_43_1.png" src="../_images/Assemblage_43_1.png" />
</div>
</div>
<div class="tip admonition">
<p class="admonition-title">COMING SOON: from_rectangles()</p>
<p>In the future I plan to implement a convenience method for placing rectangles (or other polygon shapes) randomly within an <code class="docutils literal notranslate"><span class="pre">Area</span></code> using a Poisson point process to determine the centerpoints of the polygons.</p>
</div>
</div>
</div>
</div>
<div class="section" id="time-penalty-parameter">
<h2><code class="docutils literal notranslate"><span class="pre">time_penalty</span></code> parameter<a class="headerlink" href="#time-penalty-parameter" title="Permalink to this headline">¶</a></h2>
<p>The time penalty is meant to reflect the amount of time added to the search time to record any particular <code class="docutils literal notranslate"><span class="pre">Feature</span></code> object when it is found.</p>
<p>This parameter requires some knowledge or intuition about the recording methods that are (or could be) used in the field. For example, if special labeling or curation procedures are to be applied to some class of artifacts, that might justify a greater time penalty for that <code class="docutils literal notranslate"><span class="pre">Layer</span></code> of artifacts. Recall though that this parameter is applied to all <code class="docutils literal notranslate"><span class="pre">Features</span></code> that make up a <code class="docutils literal notranslate"><span class="pre">Layer</span></code>, so take care to include only <code class="docutils literal notranslate"><span class="pre">Feature</span></code> objects for which this <code class="docutils literal notranslate"><span class="pre">time_penalty</span></code> value holds.</p>
<p>Let’s revisit the last example we saw. Here, we specify the <code class="docutils literal notranslate"><span class="pre">time_penalty</span></code> parameter of the <code class="docutils literal notranslate"><span class="pre">Layer</span></code> as a truncated normal distribution with a mean of 10, a standard deviation of 7, lower bound at 0, and upper bound at 50.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">area_from_shp</span> <span class="o">=</span> <span class="n">prospect</span><span class="o">.</span><span class="n">Area</span><span class="o">.</span><span class="n">from_shapefile</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;area_shp&quot;</span><span class="p">,</span> 
    <span class="n">path</span><span class="o">=</span><span class="s2">&quot;./data/demo_area.shp&quot;</span>
<span class="p">)</span>

<span class="n">layer_from_matern</span> <span class="o">=</span> <span class="n">prospect</span><span class="o">.</span><span class="n">Layer</span><span class="o">.</span><span class="n">from_matern_points</span><span class="p">(</span>
    <span class="n">parent_rate</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span>
    <span class="n">child_rate</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">radius</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;demo_layer_from_matern&quot;</span><span class="p">,</span> 
    <span class="n">area</span><span class="o">=</span><span class="n">area_from_shp</span><span class="p">,</span> 
    <span class="n">assemblage_name</span><span class="o">=</span><span class="s2">&quot;demo_assemblage&quot;</span><span class="p">,</span>
    <span class="n">time_penalty</span><span class="o">=</span><span class="n">prospect</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">truncnorm</span><span class="p">(</span><span class="n">mean</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sd</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mi">50</span><span class="p">),</span>
    <span class="n">ideal_obs_rate</span><span class="o">=</span><span class="n">beta</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>We can check that the <code class="docutils literal notranslate"><span class="pre">time_penalty</span></code> column of the <code class="docutils literal notranslate"><span class="pre">&lt;Layer&gt;.df</span></code> attribute is indeed a <code class="docutils literal notranslate"><span class="pre">scipy</span></code> distribution.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">layer_from_matern</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;time_penalty&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    &lt;scipy.stats._distn_infrastructure.rv_frozen o...
1    &lt;scipy.stats._distn_infrastructure.rv_frozen o...
2    &lt;scipy.stats._distn_infrastructure.rv_frozen o...
3    &lt;scipy.stats._distn_infrastructure.rv_frozen o...
4    &lt;scipy.stats._distn_infrastructure.rv_frozen o...
Name: time_penalty, dtype: object
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="ideal-obs-rate-parameter">
<h2><code class="docutils literal notranslate"><span class="pre">ideal_obs_rate</span></code> parameter<a class="headerlink" href="#ideal-obs-rate-parameter" title="Permalink to this headline">¶</a></h2>
<p>Of all the <code class="docutils literal notranslate"><span class="pre">prospect</span></code> parameters, the ideal observation rate is perhaps the most difficult to define. It represents the frequency with which an artifact or feature will be recorded, assuming the following ideal conditions:</p>
<ul class="simple">
<li><p>It lies inside or intersects the <code class="docutils literal notranslate"><span class="pre">Coverage</span></code></p></li>
<li><p>Surface visibility is 100%</p></li>
<li><p>The surveyor’s skill is 1.0</p></li>
</ul>
<p>These assumptions are important to consider further. The ideal observation rate is specified here solely as a property of the materials (i.e., artifacts or features) themselves, unrelated to the distance from the observer, surface visibility, or surveyor skill. These other factors are all accounted for in other parts of the simulation, so users should avoid replicating that uncertainty here. For most <code class="docutils literal notranslate"><span class="pre">Layer</span></code> objects, this value should probably be 1.0 or close to 1.0, but there are some scenarios where you might want to consider an alternate value. For instance:</p>
<ul class="simple">
<li><p>If the <code class="docutils literal notranslate"><span class="pre">Layer</span></code> represents extremely small artifacts (e.g., beads, tiny stone flakes) that are hard to observe even in the best conditions.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">Layer</span></code> represents artifacts or features that are difficult to differentiate from the surface “background” in a particular context. For example, in a gravelly area, ceramic sherds can be difficult to differentiate from rocks. A major caveat here is that this “background noise” is sometimes considered in surface visibility estimations, so the user should take care not to duplicate that uncertainty if it is already accounted for in the <code class="docutils literal notranslate"><span class="pre">Area</span></code> building block.</p></li>
</ul>
<p>Let’s look at the <code class="docutils literal notranslate"><span class="pre">Layer</span></code> from above once again.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">area_from_shp</span> <span class="o">=</span> <span class="n">prospect</span><span class="o">.</span><span class="n">Area</span><span class="o">.</span><span class="n">from_shapefile</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;area_shp&quot;</span><span class="p">,</span> 
    <span class="n">path</span><span class="o">=</span><span class="s2">&quot;./data/demo_area.shp&quot;</span>
<span class="p">)</span>

<span class="n">layer_from_matern</span> <span class="o">=</span> <span class="n">prospect</span><span class="o">.</span><span class="n">Layer</span><span class="o">.</span><span class="n">from_matern_points</span><span class="p">(</span>
    <span class="n">parent_rate</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span>
    <span class="n">child_rate</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">radius</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;demo_layer_from_matern&quot;</span><span class="p">,</span> 
    <span class="n">area</span><span class="o">=</span><span class="n">area_from_shp</span><span class="p">,</span> 
    <span class="n">assemblage_name</span><span class="o">=</span><span class="s2">&quot;demo_assemblage&quot;</span><span class="p">,</span>
    <span class="n">time_penalty</span><span class="o">=</span><span class="n">prospect</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">truncnorm</span><span class="p">(</span><span class="n">mean</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sd</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mi">50</span><span class="p">),</span>
    <span class="n">ideal_obs_rate</span><span class="o">=</span><span class="n">beta</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>By setting the <code class="docutils literal notranslate"><span class="pre">ideal_obs_rate</span></code> parameter to a Beta distribution (<code class="docutils literal notranslate"><span class="pre">scipy.stats.beta(9,</span> <span class="pre">1)</span></code>), we are saying, for example, that if there were 10 artifacts of this type in an area, even a highly-skilled surveyor in perfect visibility conditions would only discover 9 of them most of the time.</p>
</div>
<div class="section" id="creating-an-assemblage-from-layer-objects">
<h2>Creating an <code class="docutils literal notranslate"><span class="pre">Assemblage</span></code> from <code class="docutils literal notranslate"><span class="pre">Layer</span></code> objects<a class="headerlink" href="#creating-an-assemblage-from-layer-objects" title="Permalink to this headline">¶</a></h2>
<p>An <code class="docutils literal notranslate"><span class="pre">Assemblage</span></code> is merely a collection of <code class="docutils literal notranslate"><span class="pre">Layer</span></code> objects. You can pass your previously-created <code class="docutils literal notranslate"><span class="pre">Layer</span></code> objects in a list to the <code class="docutils literal notranslate"><span class="pre">Assemblage</span></code> constructor. We’ll pass it all of the <code class="docutils literal notranslate"><span class="pre">Layer</span></code> objects we created above.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">demo_assemblage</span> <span class="o">=</span> <span class="n">prospect</span><span class="o">.</span><span class="n">Assemblage</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;demo_assemblage&quot;</span><span class="p">,</span>
    <span class="n">area_name</span><span class="o">=</span><span class="s2">&quot;area_shp&quot;</span><span class="p">,</span>
    <span class="n">layer_list</span><span class="o">=</span><span class="p">[</span>
        <span class="n">layer_from_list</span><span class="p">,</span>
        <span class="n">layer_from_shp</span><span class="p">,</span>
        <span class="n">layer_from_pseudo_rand</span><span class="p">,</span>
        <span class="n">layer_from_poisson</span><span class="p">,</span>
        <span class="n">layer_from_thomas</span><span class="p">,</span>
        <span class="n">layer_from_matern</span>
    <span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>We can see that all of the <code class="docutils literal notranslate"><span class="pre">Feature</span></code> objects from the various <code class="docutils literal notranslate"><span class="pre">Layer</span></code> objects are part of one <code class="docutils literal notranslate"><span class="pre">Assemblage</span></code> object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">demo_assemblage</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>feature_name</th>
      <th>layer_name</th>
      <th>shape</th>
      <th>time_penalty</th>
      <th>ideal_obs_rate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>feature1</td>
      <td>demo_layer</td>
      <td>POINT (10.000 10.000)</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>feature2</td>
      <td>demo_layer</td>
      <td>POINT (50.000 50.000)</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>feature3</td>
      <td>demo_layer</td>
      <td>POINT (90.000 90.000)</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>demo_layer_from_shp_0</td>
      <td>demo_layer_from_shp</td>
      <td>POINT (533579.123 4388848.757)</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>demo_layer_from_shp_1</td>
      <td>demo_layer_from_shp</td>
      <td>POINT (533638.844 4388883.594)</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>demo_layer_from_shp_2</td>
      <td>demo_layer_from_shp</td>
      <td>POINT (533621.702 4388842.121)</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>demo_layer_from_shp_3</td>
      <td>demo_layer_from_shp</td>
      <td>POINT (533701.882 4388861.475)</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>demo_layer_from_shp_4</td>
      <td>demo_layer_from_shp</td>
      <td>POINT (533669.810 4388763.047)</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
    </tr>
    <tr>
      <th>8</th>
      <td>demo_layer_from_shp_5</td>
      <td>demo_layer_from_shp</td>
      <td>POINT (533575.252 4388787.930)</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
    </tr>
    <tr>
      <th>9</th>
      <td>demo_layer_from_shp_6</td>
      <td>demo_layer_from_shp</td>
      <td>POINT (533771.556 4388874.194)</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
      <td>&lt;scipy.stats._distn_infrastructure.rv_frozen o...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./blocks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="Area.html" title="previous page">Area</a>
    <a class='right-next' id="next-link" href="Coverage.html" title="next page">Coverage</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Jacob Deppen<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>